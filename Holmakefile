INCLUDES = $(HOLDIR)/src/emit/ML

all: selftest.exe regexp.ui test
selftest.exe: selftest.uo regexpTheory.uo
	$(HOLMOSMLC) -o $@ $<

$(HOLDIR)/src/emit/ML/regexpML.ui: $(HOLDIR)/src/emit/ML/regexpML.sml
	cd $(HOLDIR)/src/emit/ML; Holmake

test: selftest.exe $(HOLDIR)/src/emit/ML/regexpML.ui regexp.uo
	echo "running selftest"; ./selftest.exe

.PHONY: all test
